<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title data-th-text="#{application.title}">Dungeon Raider</title>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
<meta name="viewport" content="width=device-width, initial-scale=1"></meta>
<link data-th-href="@{/resources/images/favicon.png}" href="../../images/favicon.png" type="image/png" rel="shortcut icon" />
<link data-th-href="@{/resources/css/bootstrap.min.css}" href="../../css/bootstrap.min.css" rel="stylesheet"></link>
<link data-th-href="@{/resources/css/bootstrap-theme.min.css}" href="../../css/bootstrap-theme.min.css" rel="stylesheet"></link>
<link data-th-href="@{/resources/css/toastr.min.css}" href="../../css/toastr.min.css" rel="stylesheet"></link>
<link data-th-href="@{/resources/css/theme.css}" href="../../css/theme.css" rel="stylesheet"></link>
<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css"></link>
</head>
<body>
	<div class="container-fluid">
		<nav data-th-replace="fragments/navbar :: navbar"></nav>
		<div class="panel panel-default">
			<div class="panel-body">
				<h1 align="center" th:text="#{main.title}"></h1>
				<form id="form" data-th-object="${form}" action="#" data-th-action="@{/shop/items.html}" method="get">

					<div class="row">
						<div class="col-xs-6">
							<div class="panel panel-default">
								<div class="panel-heading">
									<table>
										<tbody>
											<tr>
												<td class="col-xs-10"><span data-th-text="#{shop.weapons}"></span></td>
												<td class="col-xs-2"><select th:field="*{weaponCanBuy}" class="form-control input-sm"  data-th-entity="${characterId}" id="filter">
														<option value="false" th:text="#{general.any}">Any</option>
														<option value="true" th:text="#{shop.canBuy}"></option>
												</select></td>
											</tr>
										</tbody>
									</table>

								</div>
								<div class="panel-body">
									<table class="table table-hover table-condensed">
										<thead>
											<tr>
												<th class="col-xs-1" data-th-text="#{item.item}">Item</th>
												<th class="col-xs-1" data-th-text="#{item.value}">Value</th>
												<th class="col-xs-1" data-th-text="#{item.weight}">Weight</th>
												<th class="col-xs-2" data-th-text="#{item.attackPointsPlus}">AttackPoint</th>
												<th class="col-xs-2" data-th-text="#{item.defendPointsPlus}">DefendPonits</th>
												<th class="col-xs-1" data-th-text="#{item.damage}">Damage</th>
												<th class="col-xs-4" data-th-text="#{general.opportunities}">Opportunities</th>
											</tr>
										</thead>
										<tbody>
											<tr data-th-each="item: *{weapons}">
												<td data-th-text="${item.name}">Name</td>
												<td data-th-text="${item.value}">Value</td>
												<td data-th-text="${item.weight}">Value</td>
												<td data-th-text="${item.atk}">Atk</td>
												<td data-th-text="${item.def}">Def</td>
												<td data-th-text="${item.damage}">Damage</td>
												<td>
													<div class="btn-group" role="group">
														<a th:href="@{/shop/buy.html(id=${item.id}, type=${item.type})}" href="#" class="btn btn-xs btn-info"><span th:text="#{shop.buy}"></span></a>
														<a th:href="@{/shop/buyandequip.html(id=${item.id}, type=${item.type})}" class="btn btn-xs btn-default" href="#"><span th:text="#{shop.buyAndEquip}"></span></a>
														<a class="btn btn-default btn-xs" data-toggle="modal" data-target="#viewModal" data-entity="${item}" data-th-text="#{shop.view}" role="button"><span th:text="#{item.view}"></span></a>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>



						</div>
					<div class="col-xs-6">
							<div class="panel panel-default">
								<div class="panel-heading">
									<table>
										<tbody>
											<tr>
												<td class="col-xs-10"><span data-th-text="#{shop.shields}"></span></td>
												<td class="col-xs-2"><select th:field="*{shieldCanBuy}" class="form-control input-sm" id="filter">
														<option value="false" th:text="#{general.any}">Any</option>
														<option value="true" th:text="#{shop.canBuy}"></option>
												</select></td>
											</tr>
										</tbody>
									</table>

								</div>
								<div class="panel-body">
									<table class="table table-hover table-condensed">
										<thead>
											<tr>
												<th class="col-xs-2" data-th-text="#{item.item}">Item</th>
												<th class="col-xs-1" data-th-text="#{item.value}">Value</th>
												<th class="col-xs-1" data-th-text="#{item.weight}">Weight</th>
												<th class="col-xs-2" data-th-text="#{item.attackPointsMinus}">AttackPointMinus</th>
												<th class="col-xs-2" data-th-text="#{item.defendPointsPlus}">DefendPonits</th>
												<th class="col-xs-4" data-th-text="#{general.opportunities}">Opportunities</th>
											</tr>
										</thead>
										<tbody>
											<tr data-th-each="item: *{shields}">
												<td data-th-text="${item.name}">Name</td>
												<td data-th-text="${item.value}">Value</td>
												<td data-th-text="${item.weight}">Value</td>
												<td data-th-text="${item.atkMinus}">Atk</td>
												<td data-th-text="${item.defPlus}">Def</td>
												<td>
													<div class="btn-group" role="group">
														<a th:href="@{/shop/buy.html(id=${item.id}, type=${item.type})}" href="#" class="btn btn-xs btn-info"><span th:text="#{shop.buy}"></span></a>
														<a th:href="@{/shop/buyandequip.html(id=${item.id}, type=${item.type})}" class="btn btn-xs btn-default" href="#"><span th:text="#{shop.buyAndEquip}"></span></a>
														<a class="btn btn-default btn-xs" data-toggle="modal" data-target="#viewModal" data-entity="item.name" data-th-text="#{shop.view}" role="button"><span th:text="#{item.view}"></span></a>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>

					</div>
					
						<div class="row">
						<div class="col-xs-6">
							<div class="panel panel-default">
								<div class="panel-heading">
									<table>
										<tbody>
											<tr>
												<td class="col-xs-10"><span data-th-text="#{shop.armors}"></span></td>
												<td class="col-xs-2"><select th:field="*{armorCanBuy}" class="form-control input-sm" id="filter">
														<option value="false" th:text="#{general.any}">Any</option>
														<option value="true" th:text="#{shop.canBuy}"></option>
												</select></td>
											</tr>
										</tbody>
									</table>

								</div>
								<div class="panel-body">
									<table class="table table-hover table-condensed">
										<thead>
											<tr>
												<th class="col-xs-2" data-th-text="#{item.item}">Item</th>
												<th class="col-xs-1" data-th-text="#{item.value}">Value</th>
												<th class="col-xs-1" data-th-text="#{item.weight}">Weight</th>
												<th class="col-xs-2" data-th-text="#{item.attackPointsMinus}">AttackPoint</th>
												<th class="col-xs-2" data-th-text="#{item.defendPointsPlus}">DefendPonits</th>
												<th class="col-xs-1" data-th-text="#{item.healthPointPlus}">HealthPointPlus</th>
												<th class="col-xs-3" data-th-text="#{general.opportunities}">Opportunities</th>
											</tr>
										</thead>
										<tbody>
											<tr data-th-each="item: *{armors}">
												<td data-th-text="${item.name}">Name</td>
												<td data-th-text="${item.value}">Value</td>
												<td data-th-text="${item.weight}">Value</td>
												<td data-th-text="${item.atkMinus}">Atk</td>
												<td data-th-text="${item.defPlus}">Def</td>
												<td data-th-text="${item.healthPlus}">Health</td>
												<td>
													<div class="btn-group" role="group">
														<a th:href="@{/shop/buy.html(id=${item.id}, type=${item.type})}" href="#" class="btn btn-xs btn-info"><span th:text="#{shop.buy}"></span></a>
														<a th:href="@{/shop/buyandequip.html(id=${item.id}, type=${item.type})}" class="btn btn-xs btn-default" href="#"><span th:text="#{shop.buyAndEquip}"></span></a>
														<a class="btn btn-default btn-xs" data-toggle="modal" data-target="#viewModal" data-entity="item" data-th-text="#{shop.view}" role="button"><span th:text="#{item.view}"></span></a>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>



						</div>
					<div class="col-xs-6">
							<div class="panel panel-default">
								<div class="panel-heading">
									<table>
										<tbody>
											<tr>
												<td class="col-xs-10"><span data-th-text="#{shop.potions}"></span></td>
												<td class="col-xs-2"><select th:field="*{potionCanBuy}" class="form-control input-sm" id="filter">
														<option value="false" th:text="#{general.any}">Any</option>
														<option value="true" th:text="#{shop.canBuy}"></option>
												</select></td>
											</tr>
										</tbody>
									</table>

								</div>
								<div class="panel-body">
									<table class="table table-hover table-condensed">
										<thead>
											<tr>
												<th class="col-xs-2" data-th-text="#{item.item}">Item</th>
												<th class="col-xs-1" data-th-text="#{item.value}">Value</th>
												<th class="col-xs-1" data-th-text="#{item.weight}">Weight</th>
												<th class="col-xs-2" data-th-text="#{item.attackPoints}">AttackPointMinus</th>
												<th class="col-xs-2" data-th-text="#{item.defendPoints}">DefendPonits</th>
												<th class="col-xs-1" data-th-text="#{item.damage}">DamagePonits</th>
												<th class="col-xs-1" data-th-text="#{item.health}">HealthPonits</th>
												<th class="col-xs-2" data-th-text="#{general.opportunities}">Opportunities</th>
											</tr>
										</thead>
										<tbody>
											<tr data-th-each="item: *{potions}">
												<td data-th-text="${item.name}">Name</td>
												<td data-th-text="${item.value}">Value</td>
												<td data-th-text="${item.weight}">Value</td>
												<td data-th-text="${item.atk}">Atk</td>
												<td data-th-text="${item.def}">Def</td>
												<td data-th-text="${item.damage}">Damage</td>
												<td data-th-text="${item.health}">Def</td>
												
												<td>
													<div class="btn-group" role="group">
														<a th:href="@{/shop/buy.html(id=${item.id}, type=${item.type})}" href="#" class="btn btn-xs btn-info"><span th:text="#{shop.buy}"></span></a>
														<a th:href="@{/shop/buyandequip.html(id=${item.id}, type=${item.type})}" class="btn btn-xs btn-default" href="#"><span th:text="#{shop.buyAndEquip}"></span></a>
														<a class="btn btn-default btn-xs" data-toggle="modal" data-target="#viewModal" data-entity="item" data-th-text="#{shop.view}" role="button"><span th:text="#{item.view}"></span></a>
													</div>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>

					</div>
				</form>
			</div>
		</div>
	</div>
		<div class="modal fade" id="viewModal" tabindex="-1" role="dialog" aria-labelledby="view">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-label="Close" data-th-attr="aria-label=#{general.close}">
						<span aria-hidden="true">&times;</span>
					</button>
					<h4 class="modal-title" id="" >Name</h4>
				</div>
				<div class="modal-body">
				<table class="table table-hover table-condensed">
						
				
						<tbody>
						<tr>
							<td class="col-xs-6 col-xs-offset-1"></td>
						</tr>
						</tbody>
					</table>
						
					
				</div>
				<div class="modal-footer">
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript" data-th-src="@{/resources/js/jquery.min.js}" src="js/jquery.min.js"></script>
	<script type="text/javascript" data-th-src="@{/resources/js/bootstrap.min.js}" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" data-th-src="@{/resources/js/toastr.min.js}" src="js/toastr.min.js"></script>
	<script type="text/javascript" data-th-src="@{/resources/js/popovers.js}" src="../../js/popovers.js"></script>
	
	<script data-th-if="${errorMsg}" data-th-inline="javascript" type="text/javascript">
		toastr.error([[#{${errorMsg}}]], [[#{general.notifierError}]]);
	</script>
	<script data-th-if="${successMsg}" data-th-inline="javascript" type="text/javascript">
	/*<![CDATA[*/
		toastr.success([[#{${successMsg}}]], [[#{general.notifierSuccess}]]);
	/*]]>*/
	</script>
 	<script th:inline="javascript" type="text/javascript">
 	
 	$('#viewModal').on('show.bs.modal', function (event) {
 		  var button = $(event.relatedTarget) 
 		  var recipient = button.data('entity')// Extract info from data-* attributes
 		  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
 		  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
 		 
 		  console.log(recipient);
 		  var modal = $(this)
 		  modal.find('.modal-title').text('New message to ' + recipient)
 		  modal.find('.modal-body input').val(recipient)
 		})
 		</script>
 		
 	<script th:inline="javascript" type="text/javascript">
 	$('select').on('change',function(e){
 		console.log(this);
	var target = $(this).attr("data-entity");
	   console.log(target);
		var target2 = $(this).attr("data-th-entity");
		   console.log(target2);
	   $('<input />').attr('type', 'hidden')
      .attr('name', 'id')
      .attr('value', target)
      .appendTo('#form');

	   
	   $('#form').submit();
 	});
	</script>
</body>
</html>